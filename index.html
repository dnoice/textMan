<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Primary Meta Tags -->
    <meta name="description" content="textMan v2 - Professional text manipulation tool with advanced editing, transformation, analytics, and export features. Support for light/dark themes, local storage, and 50+ text operations.">
    <meta name="keywords" content="text editor, text manipulation, text tools, case converter, base64, url encoder, text analytics, word counter, productivity, developer tools">
    <meta name="author" content="textMan Team">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://textman.app/">
    <meta property="og:title" content="textMan v2 - Advanced Text Manipulation Tool">
    <meta property="og:description" content="Professional text editor with 50+ manipulation tools, analytics, and beautiful light/dark themes. No login required.">
    <meta property="og:image" content="https://textman.app/og-image.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://textman.app/">
    <meta property="twitter:title" content="textMan v2 - Advanced Text Manipulation Tool">
    <meta property="twitter:description" content="Professional text editor with 50+ manipulation tools, analytics, and beautiful light/dark themes.">
    <meta property="twitter:image" content="https://textman.app/twitter-image.png">

    <!-- PWA Meta Tags -->
    <meta name="application-name" content="textMan">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="textMan">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#10b981">

    <title>textMan v2.1a - Advanced Text Manipulation & Editing Tool</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Favicon & App Icons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path fill='%2310b981' d='m18.858 0.087595c-0.068533 0.080388-0.09085 0.19042-0.059081 0.29118-0.14604 0.11305-0.2958 0.21943-0.44882 0.31982-2.7005 1.5776-6.341 1.7177-9.4146 1.2188-0.088204-0.014314-0.19748 0.035231-0.24406 0.11154-1.7923 2.9363-3.4305 5.9718-5.1226 8.9685-0.047453 0.08404-0.14253 0.09763-0.21229 0.0304l-1.0931-1.0538c-0.069801-0.067202-0.17989-0.064333-0.24598 0.00658-0.23531 0.25231-0.47053 0.5047-0.70595 0.75691-0.066127 0.07084-0.063028 0.1826 0.00692 0.24964 0.1655 0.15857 0.33092 0.31723 0.49641 0.47582 0.069973 0.06703 0.063138 0.16761-0.015209 0.22461l-1.7383 1.2646a0.14992 0.15001 0 0 0-0.0179 0.22735l6.7659 6.7761a0.1511 0.15119 0 0 0 0.2283-0.01685l1.2798-1.7294c0.057647-0.0779 0.15869-0.08431 0.22571-0.01432 0.15848 0.1656 0.31705 0.33111 0.47555 0.49669 0.066989 0.07001 0.17869 0.07309 0.24948 7e-3 0.25204-0.23558 0.50426-0.47095 0.75646-0.70637 0.0708-0.06614 0.07376-0.1763 0.0066-0.2461l-1.0532-1.0939c-0.06721-0.06981-0.054722-0.16741 0.028112-0.21766 2.9399-1.7834 6.0876-3.238 8.9688-5.1164 0.07462-0.04864 0.12447-0.16013 0.11208-0.24869-0.44224-3.1611-0.43973-6.6048 1.2144-9.4194 0.10034-0.15311 0.20644-0.30308 0.31964-0.44908 0.10071 0.031787 0.21068 0.00946 0.29102-0.059117 0.13824-0.1403 0.11286-0.40525-0.07696-0.47005-0.01756-0.005983-0.04255 0.002647-0.05506 0.016694-1.7485 1.964-3.5702 3.8426-5.4854 5.6395-0.0652 0.061164-0.08469 0.17504-0.04962 0.25727 0.21094 0.49455 0.32039 1.1954-0.03807 1.5311-0.43682 0.40498-1.3051 0.37868-1.9979-0.32159-0.68594-0.67621-0.73588-1.5515-0.32141-1.9991 0.3357-0.35894 1.0365-0.24888 1.5303-0.038056 0.08214 0.035075 0.1944 0.014165 0.25389-0.05256 1.7483-1.9609 3.724-3.6958 5.6417-5.4867 0.01281-0.011962 0.02041-0.036746 0.01432-0.054527-0.06503-0.18964-0.32962-0.21472-0.46967-0.076567z'/></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path fill='%2310b981' d='m18.858 0.087595c-0.068533 0.080388-0.09085 0.19042-0.059081 0.29118-0.14604 0.11305-0.2958 0.21943-0.44882 0.31982-2.7005 1.5776-6.341 1.7177-9.4146 1.2188-0.088204-0.014314-0.19748 0.035231-0.24406 0.11154-1.7923 2.9363-3.4305 5.9718-5.1226 8.9685-0.047453 0.08404-0.14253 0.09763-0.21229 0.0304l-1.0931-1.0538c-0.069801-0.067202-0.17989-0.064333-0.24598 0.00658-0.23531 0.25231-0.47053 0.5047-0.70595 0.75691-0.066127 0.07084-0.063028 0.1826 0.00692 0.24964 0.1655 0.15857 0.33092 0.31723 0.49641 0.47582 0.069973 0.06703 0.063138 0.16761-0.015209 0.22461l-1.7383 1.2646a0.14992 0.15001 0 0 0-0.0179 0.22735l6.7659 6.7761a0.1511 0.15119 0 0 0 0.2283-0.01685l1.2798-1.7294c0.057647-0.0779 0.15869-0.08431 0.22571-0.01432 0.15848 0.1656 0.31705 0.33111 0.47555 0.49669 0.066989 0.07001 0.17869 0.07309 0.24948 7e-3 0.25204-0.23558 0.50426-0.47095 0.75646-0.70637 0.0708-0.06614 0.07376-0.1763 0.0066-0.2461l-1.0532-1.0939c-0.06721-0.06981-0.054722-0.16741 0.028112-0.21766 2.9399-1.7834 6.0876-3.238 8.9688-5.1164 0.07462-0.04864 0.12447-0.16013 0.11208-0.24869-0.44224-3.1611-0.43973-6.6048 1.2144-9.4194 0.10034-0.15311 0.20644-0.30308 0.31964-0.44908 0.10071 0.031787 0.21068 0.00946 0.29102-0.059117 0.13824-0.1403 0.11286-0.40525-0.07696-0.47005-0.01756-0.005983-0.04255 0.002647-0.05506 0.016694-1.7485 1.964-3.5702 3.8426-5.4854 5.6395-0.0652 0.061164-0.08469 0.17504-0.04962 0.25727 0.21094 0.49455 0.32039 1.1954-0.03807 1.5311-0.43682 0.40498-1.3051 0.37868-1.9979-0.32159-0.68594-0.67621-0.73588-1.5515-0.32141-1.9991 0.3357-0.35894 1.0365-0.24888 1.5303-0.038056 0.08214 0.035075 0.1944 0.014165 0.25389-0.05256 1.7483-1.9609 3.724-3.6958 5.6417-5.4867 0.01281-0.011962 0.02041-0.036746 0.01432-0.054527-0.06503-0.18964-0.32962-0.21472-0.46967-0.076567z'/></svg>">

    <!-- Resource Hints -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Icons & Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Skip to Main Content -->
    <a href="#mainEditor" class="skip-to-content">Skip to main content</a>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen" role="status" aria-label="Application loading">
        <div class="loading-content">
            <div class="loading-logo">
                <svg class="loading-icon" viewBox="0 0 20 20" fill="none">
                    <defs>
                        <linearGradient id="loadingGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
                        </linearGradient>
                        <filter id="loadingGlow">
                            <feGaussianBlur stdDeviation="0.8" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    <path fill="url(#loadingGradient)" filter="url(#loadingGlow)" d="m18.858 0.087595c-0.068533 0.080388-0.09085 0.19042-0.059081 0.29118-0.14604 0.11305-0.2958 0.21943-0.44882 0.31982-2.7005 1.5776-6.341 1.7177-9.4146 1.2188-0.088204-0.014314-0.19748 0.035231-0.24406 0.11154-1.7923 2.9363-3.4305 5.9718-5.1226 8.9685-0.047453 0.08404-0.14253 0.09763-0.21229 0.0304l-1.0931-1.0538c-0.069801-0.067202-0.17989-0.064333-0.24598 0.00658-0.23531 0.25231-0.47053 0.5047-0.70595 0.75691-0.066127 0.07084-0.063028 0.1826 0.00692 0.24964 0.1655 0.15857 0.33092 0.31723 0.49641 0.47582 0.069973 0.06703 0.063138 0.16761-0.015209 0.22461l-1.7383 1.2646a0.14992 0.15001 0 0 0-0.0179 0.22735l6.7659 6.7761a0.1511 0.15119 0 0 0 0.2283-0.01685l1.2798-1.7294c0.057647-0.0779 0.15869-0.08431 0.22571-0.01432 0.15848 0.1656 0.31705 0.33111 0.47555 0.49669 0.066989 0.07001 0.17869 0.07309 0.24948 7e-3 0.25204-0.23558 0.50426-0.47095 0.75646-0.70637 0.0708-0.06614 0.07376-0.1763 0.0066-0.2461l-1.0532-1.0939c-0.06721-0.06981-0.054722-0.16741 0.028112-0.21766 2.9399-1.7834 6.0876-3.238 8.9688-5.1164 0.07462-0.04864 0.12447-0.16013 0.11208-0.24869-0.44224-3.1611-0.43973-6.6048 1.2144-9.4194 0.10034-0.15311 0.20644-0.30308 0.31964-0.44908 0.10071 0.031787 0.21068 0.00946 0.29102-0.059117 0.13824-0.1403 0.11286-0.40525-0.07696-0.47005-0.01756-0.005983-0.04255 0.002647-0.05506 0.016694-1.7485 1.964-3.5702 3.8426-5.4854 5.6395-0.0652 0.061164-0.08469 0.17504-0.04962 0.25727 0.21094 0.49455 0.32039 1.1954-0.03807 1.5311-0.43682 0.40498-1.3051 0.37868-1.9979-0.32159-0.68594-0.67621-0.73588-1.5515-0.32141-1.9991 0.3357-0.35894 1.0365-0.24888 1.5303-0.038056 0.08214 0.035075 0.1944 0.014165 0.25389-0.05256 1.7483-1.9609 3.724-3.6958 5.6417-5.4867 0.01281-0.011962 0.02041-0.036746 0.01432-0.054527-0.06503-0.18964-0.32962-0.21472-0.46967-0.076567z"/>
                </svg>
            </div>
            <div class="loading-text">Loading textMan...</div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <div class="loading-tips">
                <p id="loadingTip" class="loading-tip"></p>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-brand">
                <svg class="brand-logo" viewBox="0 0 20 20" fill="none">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
                        </linearGradient>
                        <filter id="logoGlow">
                            <feGaussianBlur stdDeviation="0.5" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    <path fill="url(#logoGradient)" filter="url(#logoGlow)" d="m18.858 0.087595c-0.068533 0.080388-0.09085 0.19042-0.059081 0.29118-0.14604 0.11305-0.2958 0.21943-0.44882 0.31982-2.7005 1.5776-6.341 1.7177-9.4146 1.2188-0.088204-0.014314-0.19748 0.035231-0.24406 0.11154-1.7923 2.9363-3.4305 5.9718-5.1226 8.9685-0.047453 0.08404-0.14253 0.09763-0.21229 0.0304l-1.0931-1.0538c-0.069801-0.067202-0.17989-0.064333-0.24598 0.00658-0.23531 0.25231-0.47053 0.5047-0.70595 0.75691-0.066127 0.07084-0.063028 0.1826 0.00692 0.24964 0.1655 0.15857 0.33092 0.31723 0.49641 0.47582 0.069973 0.06703 0.063138 0.16761-0.015209 0.22461l-1.7383 1.2646a0.14992 0.15001 0 0 0-0.0179 0.22735l6.7659 6.7761a0.1511 0.15119 0 0 0 0.2283-0.01685l1.2798-1.7294c0.057647-0.0779 0.15869-0.08431 0.22571-0.01432 0.15848 0.1656 0.31705 0.33111 0.47555 0.49669 0.066989 0.07001 0.17869 0.07309 0.24948 7e-3 0.25204-0.23558 0.50426-0.47095 0.75646-0.70637 0.0708-0.06614 0.07376-0.1763 0.0066-0.2461l-1.0532-1.0939c-0.06721-0.06981-0.054722-0.16741 0.028112-0.21766 2.9399-1.7834 6.0876-3.238 8.9688-5.1164 0.07462-0.04864 0.12447-0.16013 0.11208-0.24869-0.44224-3.1611-0.43973-6.6048 1.2144-9.4194 0.10034-0.15311 0.20644-0.30308 0.31964-0.44908 0.10071 0.031787 0.21068 0.00946 0.29102-0.059117 0.13824-0.1403 0.11286-0.40525-0.07696-0.47005-0.01756-0.005983-0.04255 0.002647-0.05506 0.016694-1.7485 1.964-3.5702 3.8426-5.4854 5.6395-0.0652 0.061164-0.08469 0.17504-0.04962 0.25727 0.21094 0.49455 0.32039 1.1954-0.03807 1.5311-0.43682 0.40498-1.3051 0.37868-1.9979-0.32159-0.68594-0.67621-0.73588-1.5515-0.32141-1.9991 0.3357-0.35894 1.0365-0.24888 1.5303-0.038056 0.08214 0.035075 0.1944 0.014165 0.25389-0.05256 1.7483-1.9609 3.724-3.6958 5.6417-5.4867 0.01281-0.011962 0.02041-0.036746 0.01432-0.054527-0.06503-0.18964-0.32962-0.21472-0.46967-0.076567z"/>
                </svg>
                <h1 class="brand-name">textMan <span class="brand-version">v2</span></h1>
            </div>

            <nav class="header-nav">
                <div class="quick-actions" id="quickActions">
                    <button class="quick-action-btn" id="newTextBtn" title="New Text (Ctrl+N)">
                        <i class="fas fa-file"></i>
                    </button>
                    <button class="quick-action-btn" id="compareBtn" title="Compare Texts">
                        <i class="fas fa-code-compare"></i>
                    </button>
                    <button class="quick-action-btn" id="templatesBtn" title="Text Templates">
                        <i class="fas fa-layer-group"></i>
                    </button>
                </div>
            </nav>

            <div class="header-controls">
                <button class="icon-btn" id="commandPaletteBtn" title="Command Palette (Ctrl+K)" data-tooltip="Command Palette">
                    <i class="fas fa-terminal"></i>
                </button>
                <button class="icon-btn" id="searchBtn" title="Search in text (Ctrl+F)" data-tooltip="Search & Replace">
                    <i class="fas fa-search"></i>
                </button>
                <button class="icon-btn" id="keyboardShortcutsBtn" title="Keyboard Shortcuts" data-tooltip="Keyboard Shortcuts">
                    <i class="fas fa-keyboard"></i>
                </button>
                <button class="icon-btn" id="fullscreenBtn" title="Toggle fullscreen" data-tooltip="Toggle Fullscreen">
                    <i class="fas fa-expand"></i>
                </button>
                <button class="icon-btn" id="settingsBtn" title="Settings" data-tooltip="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="icon-btn theme-toggle" id="themeToggle" title="Toggle theme" data-tooltip="Toggle Theme">
                    <i class="fas fa-sun"></i>
                </button>
                <button class="icon-btn" id="helpBtn" title="Help & About" data-tooltip="Help & About">
                    <i class="fas fa-question-circle"></i>
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="main-container">
            <!-- Left Sidebar -->
            <aside class="sidebar sidebar-left" id="leftSidebar">
                <div class="sidebar-float-toggle" data-sidebar="left" title="Toggle Workspace sidebar" aria-label="Toggle workspace sidebar">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="sidebar-header">
                    <h2><i class="fas fa-folder-open"></i> Workspace</h2>
                    <button class="sidebar-toggle" data-sidebar="left" title="Toggle sidebar" aria-label="Toggle workspace sidebar">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
                <div class="sidebar-content">
                    <!-- History Section -->
                    <div class="panel-section" id="historySection" data-section="history">
                        <h3 class="panel-header" data-toggle="history" role="button" tabindex="0" aria-expanded="true" aria-controls="historyContent">
                            <i class="fas fa-history"></i>
                            <span>History</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content" id="historyContent" role="region" aria-labelledby="historySection">
                            <div class="empty-state">
                                <i class="fas fa-history"></i>
                                <p>No history yet</p>
                            </div>
                        </div>
                    </div>

                    <!-- Templates Section -->
                    <div class="panel-section" id="templatesSection" data-section="templates">
                        <h3 class="panel-header" data-toggle="templates" role="button" tabindex="0" aria-expanded="true" aria-controls="templatesContent">
                            <i class="fas fa-file-alt"></i>
                            <span>Templates</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content" id="templatesContent" role="region" aria-labelledby="templatesSection">
                            <!-- Template buttons will be injected here -->
                        </div>
                    </div>

                    <!-- Saved Texts Section -->
                    <div class="panel-section" id="savedSection" data-section="saved">
                        <h3 class="panel-header" data-toggle="saved" role="button" tabindex="0" aria-expanded="true" aria-controls="savedContent">
                            <i class="fas fa-bookmark"></i>
                            <span>Saved Texts</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content" id="savedContent" role="region" aria-labelledby="savedSection">
                            <div class="empty-state">
                                <i class="fas fa-bookmark"></i>
                                <p>No saved texts</p>
                            </div>
                        </div>
                    </div>

                    <!-- Clipboard History Section -->
                    <div class="panel-section" id="clipboardSection" data-section="clipboard">
                        <h3 class="panel-header" data-toggle="clipboard" role="button" tabindex="0" aria-expanded="true" aria-controls="clipboardContent">
                            <i class="fas fa-clipboard-list"></i>
                            <span>Clipboard</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content" id="clipboardContent" role="region" aria-labelledby="clipboardSection">
                            <div class="empty-state">
                                <i class="fas fa-clipboard-list"></i>
                                <p>No clipboard history</p>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Editor Area -->
            <main class="editor-area">
                <div class="editor-toolbar">
                    <div class="toolbar-group">
                        <button class="toolbar-btn" id="undoBtn" title="Undo (Ctrl+Z)" data-tooltip="Undo">
                            <i class="fas fa-undo"></i>
                        </button>
                        <button class="toolbar-btn" id="redoBtn" title="Redo (Ctrl+Y)" data-tooltip="Redo">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>

                    <div class="toolbar-group">
                        <button class="toolbar-btn" id="cutBtn" title="Cut (Ctrl+X)" data-tooltip="Cut">
                            <i class="fas fa-cut"></i>
                        </button>
                        <button class="toolbar-btn" id="copyBtn" title="Copy (Ctrl+C)" data-tooltip="Copy">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="toolbar-btn" id="pasteBtn" title="Paste (Ctrl+V)" data-tooltip="Paste">
                            <i class="fas fa-paste"></i>
                        </button>
                        <button class="toolbar-btn" id="selectAllBtn" title="Select All (Ctrl+A)" data-tooltip="Select All">
                            <i class="fas fa-check-double"></i>
                        </button>
                    </div>

                    <div class="toolbar-group">
                        <button class="toolbar-btn" id="boldBtn" title="Bold (Ctrl+B)" data-tooltip="Bold">
                            <i class="fas fa-bold"></i>
                        </button>
                        <button class="toolbar-btn" id="italicBtn" title="Italic (Ctrl+I)" data-tooltip="Italic">
                            <i class="fas fa-italic"></i>
                        </button>
                        <button class="toolbar-btn" id="underlineBtn" title="Underline (Ctrl+U)" data-tooltip="Underline">
                            <i class="fas fa-underline"></i>
                        </button>
                    </div>

                    <div class="toolbar-group">
                        <button class="toolbar-btn" id="saveBtn" title="Save (Ctrl+S)" data-tooltip="Save">
                            <i class="fas fa-save"></i>
                        </button>
                        <button class="toolbar-btn" id="downloadBtn" title="Download" data-tooltip="Download">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="toolbar-btn" id="printBtn" title="Print (Ctrl+P)" data-tooltip="Print">
                            <i class="fas fa-print"></i>
                        </button>
                        <button class="toolbar-btn" id="clearBtn" title="Clear all" data-tooltip="Clear All">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>

                    <div class="toolbar-spacer"></div>

                    <div class="toolbar-stats">
                        <span class="stat-badge" id="charCount" title="Character count">
                            <i class="fas fa-text-width"></i> 0
                        </span>
                        <span class="stat-badge" id="wordCount" title="Word count">
                            <i class="fas fa-font"></i> 0
                        </span>
                        <span class="stat-badge" id="lineCount" title="Line count">
                            <i class="fas fa-list"></i> 0
                        </span>
                        <span class="stat-badge" id="readTime" title="Reading time">
                            <i class="fas fa-clock"></i> 0m
                        </span>
                    </div>
                </div>

                <div class="editor-wrapper" id="editorWrapper">
                    <div class="drop-zone-overlay" id="dropZoneOverlay" hidden>
                        <div class="drop-zone-content">
                            <i class="fas fa-file-upload"></i>
                            <p>Drop your file here</p>
                            <span>Supports TXT, MD, JSON, CSV, HTML</span>
                        </div>
                    </div>
                    <textarea
                        id="mainEditor"
                        class="main-editor"
                        placeholder="Start typing or paste your text here... (or drag & drop a file)"
                        spellcheck="true"
                        autocomplete="off"
                        autocorrect="off"
                        autocapitalize="off"
                        aria-label="Main text editor"
                    ></textarea>
                </div>

                <div class="editor-footer">
                    <div class="footer-left">
                        <span id="statusMessage" class="status-message" role="status" aria-live="polite">Ready</span>
                        <span class="separator">•</span>
                        <span id="cursorPosition" class="cursor-position" aria-label="Cursor position">Ln 1, Col 1</span>
                        <span class="separator">•</span>
                        <span id="selectedCount" class="selected-count" hidden aria-label="Selection count">0 selected</span>
                    </div>
                    <div class="footer-right">
                        <span class="auto-save-indicator" id="autoSaveIndicator">
                            <i class="fas fa-save"></i> Auto-save enabled
                        </span>
                    </div>
                </div>
            </main>

            <!-- Right Sidebar -->
            <aside class="sidebar sidebar-right" id="rightSidebar">
                <div class="sidebar-float-toggle" data-sidebar="right" title="Toggle Tools sidebar" aria-label="Toggle tools sidebar">
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="sidebar-header">
                    <h2><i class="fas fa-toolbox"></i> Tools</h2>
                    <button class="sidebar-toggle" data-sidebar="right" title="Toggle sidebar" aria-label="Toggle tools sidebar">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <div class="sidebar-content">
                    <!-- Analytics Section -->
                    <div class="panel-section tool-section" id="analyticsSection" data-section="analytics">
                        <h3 class="panel-header tool-section-title" data-toggle="analytics" role="button" tabindex="0" aria-expanded="true" aria-controls="analyticsContent">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analytics</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content tool-section-content" id="analyticsContent" role="region" aria-labelledby="analyticsSection">
                            <div class="analytics-mini" id="analyticsMini">
                                <!-- Mini analytics will be injected here -->
                            </div>
                            <button class="tool-btn tool-btn-primary" id="fullAnalyticsBtn" aria-label="Show full analytics">
                                <i class="fas fa-chart-line"></i> Full Analysis
                            </button>
                        </div>
                    </div>

                    <!-- Text Transform Section -->
                    <div class="panel-section tool-section" id="transformSection" data-section="transform">
                        <h3 class="panel-header tool-section-title" data-toggle="transform" role="button" tabindex="0" aria-expanded="true" aria-controls="transformContent">
                            <i class="fas fa-font"></i>
                            <span>Text Transform</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content tool-section-content" id="transformContent" role="region" aria-labelledby="transformSection">
                            <div class="tool-grid" id="transformTools">
                                <button class="tool-btn" id="uppercaseBtn" data-action="uppercase" aria-label="Convert to uppercase">
                                    <i class="fas fa-arrow-up"></i> UPPERCASE
                                </button>
                                <button class="tool-btn" id="lowercaseBtn" data-action="lowercase" aria-label="Convert to lowercase">
                                    <i class="fas fa-arrow-down"></i> lowercase
                                </button>
                                <button class="tool-btn" id="titlecaseBtn" data-action="titlecase" aria-label="Convert to title case">
                                    <i class="fas fa-heading"></i> Title Case
                                </button>
                                <button class="tool-btn" id="sentencecaseBtn" data-action="sentencecase" aria-label="Convert to sentence case">
                                    <i class="fas fa-align-left"></i> Sentence case
                                </button>
                                <button class="tool-btn" id="camelcaseBtn" data-action="camelcase" aria-label="Convert to camelCase">
                                    <i class="fas fa-code"></i> camelCase
                                </button>
                                <button class="tool-btn" id="snakecaseBtn" data-action="snakecase" aria-label="Convert to snake_case">
                                    <i class="fas fa-link"></i> snake_case
                                </button>
                                <button class="tool-btn" id="kebabcaseBtn" data-action="kebabcase" aria-label="Convert to kebab-case">
                                    <i class="fas fa-minus"></i> kebab-case
                                </button>
                                <button class="tool-btn" id="reverseBtn" data-action="reverse" aria-label="Reverse text">
                                    <i class="fas fa-exchange-alt"></i> Reverse
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Format & Clean Section -->
                    <div class="panel-section tool-section" id="formatSection" data-section="format">
                        <h3 class="panel-header tool-section-title" data-toggle="format" role="button" tabindex="0" aria-expanded="true" aria-controls="formatContent">
                            <i class="fas fa-magic"></i>
                            <span>Format & Clean</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content tool-section-content" id="formatContent" role="region" aria-labelledby="formatSection">
                            <div class="tool-grid" id="formatTools">
                                <button class="tool-btn" id="trimBtn" data-action="trim" aria-label="Trim whitespace">
                                    <i class="fas fa-crop"></i> Trim
                                </button>
                                <button class="tool-btn" id="removeExtraSpacesBtn" data-action="removeSpaces" aria-label="Remove extra spaces">
                                    <i class="fas fa-compress"></i> Remove Spaces
                                </button>
                                <button class="tool-btn" id="removeLineBreaksBtn" data-action="removeBreaks" aria-label="Remove line breaks">
                                    <i class="fas fa-minus-circle"></i> Remove Breaks
                                </button>
                                <button class="tool-btn" id="removeNumbersBtn" data-action="removeNumbers" aria-label="Remove numbers">
                                    <i class="fas fa-hashtag"></i> Remove Numbers
                                </button>
                                <button class="tool-btn" id="removePunctuationBtn" data-action="removePunctuation" aria-label="Remove punctuation">
                                    <i class="fas fa-exclamation-circle"></i> Remove Punct.
                                </button>
                                <button class="tool-btn" id="removeDuplicatesBtn" data-action="removeDuplicates" aria-label="Remove duplicate lines">
                                    <i class="fas fa-copy"></i> Remove Dupes
                                </button>
                                <button class="tool-btn" id="sortLinesBtn" data-action="sortLines" aria-label="Sort lines">
                                    <i class="fas fa-sort-alpha-down"></i> Sort Lines
                                </button>
                                <button class="tool-btn" id="shuffleLinesBtn" data-action="shuffleLines" aria-label="Shuffle lines">
                                    <i class="fas fa-random"></i> Shuffle
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Encode/Decode Section -->
                    <div class="panel-section tool-section" id="encodeSection" data-section="encode">
                        <h3 class="panel-header tool-section-title" data-toggle="encode" role="button" tabindex="0" aria-expanded="true" aria-controls="encodeContent">
                            <i class="fas fa-code"></i>
                            <span>Encode/Decode</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content tool-section-content" id="encodeContent" role="region" aria-labelledby="encodeSection">
                            <div class="tool-grid" id="encodeTools">
                                <button class="tool-btn" id="base64EncodeBtn" data-action="base64Encode" aria-label="Encode to Base64">
                                    <i class="fas fa-lock"></i> Base64 Encode
                                </button>
                                <button class="tool-btn" id="base64DecodeBtn" data-action="base64Decode" aria-label="Decode from Base64">
                                    <i class="fas fa-unlock"></i> Base64 Decode
                                </button>
                                <button class="tool-btn" id="urlEncodeBtn" data-action="urlEncode" aria-label="URL Encode">
                                    <i class="fas fa-link"></i> URL Encode
                                </button>
                                <button class="tool-btn" id="urlDecodeBtn" data-action="urlDecode" aria-label="URL Decode">
                                    <i class="fas fa-unlink"></i> URL Decode
                                </button>
                                <button class="tool-btn" id="htmlEncodeBtn" data-action="htmlEncode" aria-label="HTML Encode">
                                    <i class="fas fa-code"></i> HTML Encode
                                </button>
                                <button class="tool-btn" id="htmlDecodeBtn" data-action="htmlDecode" aria-label="HTML Decode">
                                    <i class="fas fa-file-code"></i> HTML Decode
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Advanced Tools Section -->
                    <div class="panel-section tool-section" id="advancedSection" data-section="advanced">
                        <h3 class="panel-header tool-section-title" data-toggle="advanced" role="button" tabindex="0" aria-expanded="true" aria-controls="advancedContent">
                            <i class="fas fa-tools"></i>
                            <span>Advanced</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content tool-section-content" id="advancedContent" role="region" aria-labelledby="advancedSection">
                            <div class="tool-grid">
                                <button class="tool-btn" id="diffToolBtn" data-action="diff" aria-label="Compare texts">
                                    <i class="fas fa-code-compare"></i> Diff/Compare
                                </button>
                                <button class="tool-btn" id="hashToolBtn" data-action="hash" aria-label="Generate hash">
                                    <i class="fas fa-hashtag"></i> Hash Generator
                                </button>
                                <button class="tool-btn" id="loremBtn" data-action="lorem" aria-label="Generate Lorem Ipsum">
                                    <i class="fas fa-paragraph"></i> Lorem Ipsum
                                </button>
                                <button class="tool-btn" id="regexToolBtn" data-action="regex" aria-label="Test regular expressions">
                                    <i class="fas fa-regular-expression"></i> Regex Tester
                                </button>
                                <button class="tool-btn" id="wordWrapBtn" data-action="wordwrap" aria-label="Word wrap">
                                    <i class="fas fa-align-justify"></i> Word Wrap
                                </button>
                                <button class="tool-btn" id="indentBtn" data-action="indent" aria-label="Indent text">
                                    <i class="fas fa-indent"></i> Indent
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Import/Export Section -->
                    <div class="panel-section tool-section" id="importExportSection" data-section="importexport">
                        <h3 class="panel-header tool-section-title" data-toggle="importexport" role="button" tabindex="0" aria-expanded="true" aria-controls="importExportContent">
                            <i class="fas fa-file-export"></i>
                            <span>Import/Export</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </h3>
                        <div class="panel-content tool-section-content" id="importExportContent" role="region" aria-labelledby="importExportSection">
                            <div class="import-export-section">
                                <input type="file" id="fileInput" accept=".txt,.md,.json,.csv,.html" hidden aria-label="File input">
                                <button class="tool-btn" id="importBtn" aria-label="Import file">
                                    <i class="fas fa-file-import"></i> Import File
                                </button>
                                <div class="export-options" id="exportOptions">
                                    <button class="tool-btn" id="exportTxtBtn" data-format="txt" aria-label="Export as TXT">
                                        <i class="fas fa-file-alt"></i> Export TXT
                                    </button>
                                    <button class="tool-btn" id="exportMdBtn" data-format="md" aria-label="Export as Markdown">
                                        <i class="fas fa-markdown"></i> Export MD
                                    </button>
                                    <button class="tool-btn" id="exportJsonBtn" data-format="json" aria-label="Export as JSON">
                                        <i class="fas fa-file-code"></i> Export JSON
                                    </button>
                                    <button class="tool-btn" id="exportHtmlBtn" data-format="html" aria-label="Export as HTML">
                                        <i class="fas fa-file-code"></i> Export HTML
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Modal Container -->
    <div class="modal-backdrop" id="modalBackdrop" hidden role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal" id="modal" role="document">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Modal Title</h3>
                <button class="modal-close" id="modalClose" aria-label="Close modal" type="button">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content will be injected here -->
            </div>
            <div class="modal-footer" id="modalFooter">
                <!-- Modal actions will be injected here -->
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer" role="status" aria-live="polite" aria-atomic="true">
        <!-- Toast messages will be injected here -->
    </div>

    <!-- Search Overlay -->
    <div class="search-overlay" id="searchOverlay" hidden>
        <div class="search-box">
            <div class="search-header">
                <h3><i class="fas fa-search"></i> Find & Replace</h3>
                <button class="search-close" id="searchClose" aria-label="Close search">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="search-content">
                <div class="search-field">
                    <label for="findInput">Find:</label>
                    <input type="text" id="findInput" placeholder="Search text..." aria-label="Search text">
                </div>
                <div class="search-field">
                    <label for="replaceInput">Replace:</label>
                    <input type="text" id="replaceInput" placeholder="Replace with..." aria-label="Replace with">
                </div>
                <div class="search-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="caseSensitive">
                        <span>Case sensitive</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="useRegex">
                        <span>Use regex</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="wholeWord">
                        <span>Whole word</span>
                    </label>
                </div>
                <div class="search-results" id="searchResults">
                    <span class="search-count" id="searchCount">No results</span>
                </div>
                <div class="search-actions">
                    <button class="btn btn-secondary" id="findPrevBtn">
                        <i class="fas fa-arrow-up"></i> Previous
                    </button>
                    <button class="btn btn-secondary" id="findNextBtn">
                        <i class="fas fa-arrow-down"></i> Next
                    </button>
                    <button class="btn btn-secondary" id="replaceBtn">Replace</button>
                    <button class="btn btn-primary" id="replaceAllBtn">Replace All</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Command Palette -->
    <div class="command-palette-overlay" id="commandPaletteOverlay" hidden>
        <div class="command-palette">
            <div class="command-input-wrapper">
                <i class="fas fa-terminal"></i>
                <input
                    type="text"
                    id="commandInput"
                    class="command-input"
                    placeholder="Type a command or search..."
                    aria-label="Command palette"
                    autocomplete="off"
                >
            </div>
            <div class="command-results" id="commandResults">
                <!-- Command results will be injected here -->
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu" hidden role="menu">
        <div class="context-menu-item" data-action="cut" role="menuitem">
            <i class="fas fa-cut"></i> Cut
            <span class="context-menu-shortcut">Ctrl+X</span>
        </div>
        <div class="context-menu-item" data-action="copy" role="menuitem">
            <i class="fas fa-copy"></i> Copy
            <span class="context-menu-shortcut">Ctrl+C</span>
        </div>
        <div class="context-menu-item" data-action="paste" role="menuitem">
            <i class="fas fa-paste"></i> Paste
            <span class="context-menu-shortcut">Ctrl+V</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="selectAll" role="menuitem">
            <i class="fas fa-check-double"></i> Select All
            <span class="context-menu-shortcut">Ctrl+A</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="transform" role="menuitem">
            <i class="fas fa-font"></i> Transform Text
        </div>
        <div class="context-menu-item" data-action="analyze" role="menuitem">
            <i class="fas fa-chart-bar"></i> Analyze Selection
        </div>
    </div>

    <!-- Scripts - Load Order Matters! -->
    <!-- Core Modules -->
    <script src="js/core/config.js"></script>
    <script src="js/core/state.js"></script>
    <script src="js/core/utils.js"></script>

    <!-- Storage -->
    <script src="js/storage/storage.js"></script>

    <!-- UI Managers -->
    <script src="js/ui/theme.js"></script>
    <script src="js/ui/toast.js"></script>

    <!-- All Other Modules (Modal, Editor, TextTools, Managers, etc.) -->
    <script src="js/modules.js"></script>

    <!-- Application Initialization -->
    <script src="js/scripts.js"></script>

    <!-- Fallback for no JavaScript -->
    <noscript>
        <style>
            #loadingScreen { display: none !important; }
            #app { display: none !important; }
            body::after {
                content: 'JavaScript is required to run textMan. Please enable JavaScript in your browser settings.';
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                text-align: center;
                padding: 2rem;
                background: #fff;
                border-radius: 8px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                font-family: system-ui, sans-serif;
                color: #333;
                max-width: 400px;
                z-index: 99999;
            }
        </style>
    </noscript>
</body>
</html>
